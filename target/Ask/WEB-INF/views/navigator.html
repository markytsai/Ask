<div xmlns:th="http://www.w3.org/1999/xhtml" th:fragment="delConfirm">
    <div class="modal fade" id="delConfirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="table" style="display: table;height:100%;">
            <div class="table-cell" style="display: table-cell;vertical-align: middle;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span
                                    aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                            <h4 class="modal-title" id="myModalLabel">需要你的再次验证</h4>
                        </div>
                        <div class="modal-body">
                            <h4>
                                删除后的回答无法找回，你确定删除这条回答吗？
                            </h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">点错了</button>
                            <button th:id="delId" type="button" class="btn btn-primary delConfirmBtn" th:value="0">我确定
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--删除评论确认框-->
<div th:fragment="delCommentConfirm" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="modal fade" id="delComment" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="delCommentModalLabel">需要你的再次验证</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h4>
                        删除后的评论无法找回，你确定删除你的评论吗？
                    </h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">点错了</button>
                    <button th:id="delCommentId" type="button" class="btn btn-primary" th:value="0">确定删除</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--提问面板-->
<div th:fragment="ask" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="exampleModalLabel" style="display: inline;">我的问题</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="askForm">
                        <div class="form-group">
                            <label class="col-form-label">问题名称</label><br/>
                            <div class="autocomplete" style="width: 100%;">
                                <input id="questionTitle" type="text" class="form-control" required="true"
                                       data-original-title="hint" title="hint"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="questionContent" class="col-form-label">问题详情（如果有的话）</label>
                            <div id="questionContent" class="form-control" style="height: 30%;"></div>
                        </div>

                        <div id="topicDisplay" class="form-group" style="display: none;">
                            <div class="topicIntro">
                                <span><h5>你所选择的话题<span
                                        style="color: red;"> 至少添加一个话题</span></h5></span>
                            </div>
                            <ul id="ask-topic-list" style="margin-top:10px;margin-bottom: -10px;margin-left: -39px;">
                            </ul>
                        </div>

                        <div class="form-group" style="margin-top: 20px;">
                            <label for="topic" class="col-form-label">所属话题</label>
                            <input id="topic" class="form-control" autocomplete="off" placeholder="输入搜索话题"/>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                    <button id="askBtn" type="button" class="btn btn-primary">发布</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--面板登录-->
<div th:fragment="login" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true" style="padding-right: 0;padding-top: 100px;">
        <div class="modal-dialog" role="document" style="width: 350px;">
            <div class="modal-content">
                <div class="modal-header" style="text-align: center;">
                    <h4 class="modal-title" id="exampleModalLabel-login"
                        style="display: inline;color: #c00000;font-weight: bold;">AnswerPedia</h4>
                    <p>登录AnswerPeida，发掘更多知识</p>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                            style="margin-top: -55px;">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form-signin" style="margin-top: -9px;">
                        <h5 class="form-signin-heading">请登录</h5>
                        <label for="inputEmail" class="sr-only">电子邮件</label>

                        <input type="email" id="inputEmail" style="width: 320px;height: 35px;padding-bottom: 8px;"
                               class="form-control" placeholder="电子邮件" required="true"
                               autofocus="true"/><br/>
                        <label for="inputPassword" class="sr-only">登录密码</label>
                        <input type="password" id="inputPassword"
                               style="width: 320px;height: 35px;padding-bottom: 8px;"
                               class="form-control" placeholder="登录密码" required="true"/>
                        <div class="checkbox">
                            <label>
                                <input id="rememberMe" type="checkbox" value="remember-me"/>三天内保持登录
                            </label>
                        </div>
                        <span id="login-email-error" class="text-danger"></span>
                        <span id="login-password-error" class="text-danger"></span>
                        <button th:id="loginButton" style="width: 320px;height: 35px;padding-top: 5px;border-radius: 0;"
                                class="btn btn-lg btn-primary btn-block login-modal" th:value="0"
                                type="button">登录
                        </button>
                        <div style="width: 258px;height: 40px;padding-top: 10px;margin-bottom: -20px;text-align: center;">
                            <div style="padding-left: 57px;">
                                <span class="toRegister" style="cursor: pointer;color: #2b689c;">没有账号，立即注册</span><br/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!--面板注册-->
<div th:fragment="register" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true" style="padding-right: 0;padding-top: 100px;">
        <div class="modal-dialog" role="document" style="width: 350px;">
            <div class="modal-content">
                <div class="modal-header" style="text-align: center;">
                    <h4 class="modal-title" id="exampleModalLabel-register"
                        style="display: inline;color: #c00000;font-weight: bold;">AnswerPedia</h4>
                    <p>注册AnswerPeida，发掘更多知识</p>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                            style="margin-top: -55px;">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form-signin" style="margin-top: -9px;">
                        <h5 class="form-signin-heading">注册你的账号</h5>

                        <label for="inputEmailReg" class="sr-only">Email address</label>
                        <input type="email" id="inputEmailReg" style="width: 318px;height: 35px;padding-bottom: 8px;"
                               class="form-control" placeholder="电子邮箱" required="true" autocomplete="off"
                               autofocus="true"/><br/>

                        <label for="inputUsernameReg" class="sr-only">Username</label>
                        <input id="inputUsernameReg" class="form-control"
                               style="width: 318px;height: 35px;padding-bottom: 8px;" placeholder="用户名"
                               autocomplete="off"
                               required="true"/><br/>

                        <label for="inputPasswordReg" class="sr-only" autocomplete="off">Password</label>
                        <input type="password" id="inputPasswordReg"
                               style="width: 318px;height: 35px;padding-bottom: 8px;"
                               class="form-control" placeholder="密码" required="true"/><br/>

                        <span id="regi-username-error" class="text-danger"></span>
                        <span id="regi-email-error" class="text-danger"></span>
                        <span id="regi-password-error" class="text-danger"></span>
                        <button id="registerButton" class="btn btn-lg btn-primary btn-block"
                                style="width: 318px;height: 35px;padding-top: 5px;border-radius: 0;" type="button">注册
                        </button>
                        <div style="width: 258px;height: 40px;padding-top: 10px;margin-bottom: -20px;text-align: center;">
                            <div style="padding-left: 57px;">
                                <span class="toLogin" style="cursor: pointer;color: #2b689c;">已有账号，立即登录</span><br/>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 首部导航栏 -->
<div th:fragment="nav" xmlns:th="http://www.w3.org/1999/xhtml">

    <nav th:if="${user != null}" id="nbar" class="navbar navbar-default navbar-fixed-top" style='background-color: #fff;position: fixed;'>

        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                        aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" th:href="@{/}"
                   style="color: red;font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight: 400">
                    <img th:src="@{/images/logo1.png}"
                         style="display: inline-block; height: 30px; margin-top: -5px"/></a>
            </div>

            <div class="navbar-form navbar-right">
                <div class="form-group">
                    <label for="keyword" class="sr-only">关键字</label>
                    <input type="text" id="keyword" class="form-control" placeholder="输入关键字" th:value="${keyword}"/>
                </div>
                <input id="searchBtn" type="button" class="btn btn-default" value="搜索"/>&nbsp;&nbsp;&nbsp;
                <button th:if="${user} != null" type="button" class="btn btn-danger" data-toggle="modal"
                        data-target="#exampleModal"
                        data-whatever="@mdo" style="float: right">我要提问
                </button>
                <button th:if="${user} == null" type="button" class="btn btn-danger" data-toggle="modal"
                        data-target="#registerModal"
                        data-whatever="@mdo">注册
                </button>
                <button th:if="${user} == null" type="button" class="btn btn-danger login-btn" data-toggle="modal"
                        data-target="#loginModal" th:id="${currentUrl}">登录
                </button>
            </div>


            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a th:href="@{/}" style="font-size: large"><i class=""/>首页</a></li>
                    <li><a th:href="@{/following?page=1}" style="font-size: large"><i class=""/>关注</a></li>
                    <li><a th:href="@{/recommend}" style="font-size: large"><i class=""/>推荐</a></li>
                    <li class="notificate" data-toggle="popover">
                        <span>消息</span>
                        <span class="PushNotifications-count hide" th:text="${unreadMessageCount}"/>
                    </li>
                </ul>

                <div th:if="${user} != null" class="nav-profile">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-haspopup="true"
                               aria-expanded="false"><span
                                    th:text=" ${user.username}"/><span
                                    class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a th:href="@{'/userHome/activity/' + ${user.userId}}"><i
                                        class="icon-user"/>&nbsp;我的主页</a></li>
                                <li><a th:href="@{/user/settings}"><i class="icon-cog"/>修改信息</a></li>
                                <li><a th:href="@{/logout}"><i class="icon-signout"/>我要退出</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <nav th:if="${user == null}" id="nbar" class="navbar navbar-default navbar-fixed-top" style='background-color: #4c4343;position: fixed;'>

        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                        aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" th:href="@{/}"
                   style="color: red;font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight: 400">
                    <img th:src="@{/images/logo1.png}"
                         style="display: inline-block; height: 30px; margin-top: -5px"/></a>
            </div>

            <div class="navbar-form navbar-right">
                <div class="form-group">
                    <label for="keyword" class="sr-only">关键字</label>
                    <input type="text" id="keyword" class="form-control" placeholder="输入关键字" th:value="${keyword}"/>
                </div>
                <input id="searchBtn" type="button" class="btn btn-default" value="搜索"/>&nbsp;&nbsp;&nbsp;
                <button th:if="${user} != null" type="button" class="btn btn-danger" data-toggle="modal"
                        data-target="#exampleModal"
                        data-whatever="@mdo" style="float: right">我要提问
                </button>
                <button th:if="${user} == null" type="button" class="btn btn-danger" data-toggle="modal"
                        data-target="#registerModal"
                        data-whatever="@mdo">注册
                </button>
                <button th:if="${user} == null" type="button" class="btn btn-danger login-btn" data-toggle="modal"
                        data-target="#loginModal" th:id="${currentUrl}">登录
                </button>
            </div>


            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a th:href="@{/}" style="font-size: large"><i class=""/>首页</a></li>
                    <li><a th:href="@{/following?page=1}" style="font-size: large"><i class=""/>关注</a></li>
                    <li><a th:href="@{/recommend}" style="font-size: large"><i class=""/>推荐</a></li>
                    <li class="notificate" data-toggle="popover">
                        <span>消息</span>
                        <span class="PushNotifications-count hide" th:text="${unreadMessageCount}"/>
                    </li>
                </ul>

                <div th:if="${user} != null" class="nav-profile">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-haspopup="true"
                               aria-expanded="false"><span
                                    th:text=" ${user.username}"/><span
                                    class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a th:href="@{'/userHome/activity/' + ${user.userId}}"><i
                                        class="icon-user"/>&nbsp;我的主页</a></li>
                                <li><a th:href="@{/user/settings}"><i class="icon-cog"/>修改信息</a></li>
                                <li><a th:href="@{/logout}"><i class="icon-signout"/>我要退出</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>



    <span onclick="topFunction()" id="myBtn" title="返回顶部"><i class="icon-arrow-up"/> </span>


    <div id="popover_content_wrapper" style="display: none;">
        <div>
            <div>
                <span>
                    <div class="Popover-content Popover-content--bottom Popover-content--fixed Popover-content--arrowed"
                         id="Popover21-content" aria-labelledby="Popover21-toggle" style="padding: 0px;">
                        <span class="Popover-arrow Popover-arrow--bottom" style="left: 181px; top: 0px;"></span>
                        <div class="Menu PushNotifications-menu">
                            <div class="PushNotifications-content">
                            <div class="PushNotifications-header" role="tablist">
                                <button role="tab" aria-controls="PushNotifications-default" aria-label="消息"
                                        type="button" data-id="1-2-3"
                                        class="Button PushNotifications-tab Button--plain questionBtn"><span
                                        style="display: inline-flex; align-items: center;">​
                                   <svg class="Zi Zi--List PushNotifications-tabIcon PushNotifications-selectedTabIcon"
                                        fill="currentColor"
                                        viewbox="0 0 24 24" width="22" height="22">
                                        <path d="M8.493 10h12.014c.83 0 1.493.672 1.493 1.5 0 .834-.668 1.5-1.493 1.5H8.493C7.663 13 7 12.328 7
                                        11.5c0-.834.668-1.5 1.493-1.5zm0 6h12.014c.83 0 1.493.672 1.493 1.5 0 .834-.668 1.5-1.493 1.5H8.493C7.663
                                         19 7 18.328 7 17.5c0-.834.668-1.5 1.493-1.5zM3.5 4C4.334 4 5 4.672 5 5.5 5 6.334 4.328 7 3.5 7 2.666 7
                                         2 6.328 2 5.5 2 4.666 2.672 4 3.5 4zm0 6c.834 0 1.5.672 1.5 1.5 0 .834-.672 1.5-1.5 1.5-.834 0-1.5-.672
                                         -1.5-1.5 0-.834.672-1.5 1.5-1.5zm0 6c.834 0 1.5.672 1.5 1.5 0 .834-.672 1.5-1.5 1.5-.834 0-1.5-.672-1.5
                                         -1.5 0-.834.672-1.5 1.5-1.5zM8.493 4h12.014C21.337 4 22 4.672 22 5.5c0 .834-.668 1.5-1.493 1.5H8.493C7
                                         .663 7 7 6.328 7 5.5 7 4.666 7.668 4 8.493 4z"
                                              fill-rule="evenodd"></path>
                                   </svg></span></button>
                                <button role="tab" aria-controls="PushNotifications-follow" aria-label="用户"
                                        type="button" data-id="4"
                                        class="Button PushNotifications-tab Button--plain followBtn"><span
                                        style="display: inline-flex; align-items: center;">​
                                   <svg class="Zi Zi--Users PushNotifications-tabIcon" fill="currentColor"
                                        viewbox="0 0 24 24" width="22"
                                        height="22">
                                         <path d="M9.676 11.252c-.243.433-.542.85-.494 1.237.189 1.509 2.938 1.807 3.746 2.816.59.736.835 1.852.892 3.725.01.303 0 .97-.867.97H1.933c-.915 0-.925-.643-.915-.936.062-1.877.292-3.02.895-3.76.812-.994 3.743-1.267 3.872-2.872.03-.361-.246-.74-.493-1.18C3.917 8.802 3.39 4 7.466 4s3.506 4.941 2.21 7.252zm8.073.79l.002.641c1.57 1.766 4.47 1.307 4.851 3.166.125.61.328 1.538.384 3.232.009.284.014.919-.905.919-.92 0-5.523-.021-6.875-.019 0-2.806-.144-5.987-2.707-6.285.537-.331 1.725-.504 2.178-1.013l.002-.64c-.881.118-2.679-.541-2.679-.541.61-.64.747-1.387 1.192-4.317.355-2.93 2.835-2.903 3.022-2.903.187 0 2.667-.027 3.028 2.903.439 2.93.577 3.677 1.186 4.317 0 0-1.797.659-2.68.54z"
                                               fill-rule="evenodd"></path>
                                   </svg></span></button>
                                <button role="tab" aria-controls="PushNotifications-vote_thank" aria-label="赞同和感谢"
                                        type="button" data-id="5"
                                        class="Button PushNotifications-tab Button--plain voteBtn">
                              <div>
                               <span style="display: inline-flex; align-items: center;">​
                                <svg class="Zi Zi--Heart PushNotifications-tabIcon" fill="currentColor"
                                     viewbox="0 0 24 24" width="22"
                                     height="22">
                                    <path d="M2 8.437C2 5.505 4.294 3.094 7.207 3 9.243 3 11.092 4.19 12 6c.823-1.758 2.649-3 4.651-3C19.545
                                     3 22 5.507 22 8.432 22 16.24 13.842 21 12 21 10.158 21 2 16.24 2 8.437z"
                                          fill-rule="evenodd"></path>
                                </svg></span>
                               <span class="PushNotifications-redbot"></span>
                              </div></button>
                            </div>
                            <div class="PushNotifications-list">
                                <!--数据加载到这里-->
                            </div>
                            <div class="Notifications-footer">
                                <a href="//www.zhihu.com/settings/notification" type="button"
                                   class="Button Button--plain"><span
                                        style="display: inline-flex; align-items: center;">​
                                   <svg class="Zi Zi--Settings Button-icon" fill="currentColor" viewbox="0 0 24 24"
                                        width="16" height="16"
                                        style="margin-right: 5px;">
                                      <path d="M20.868 17.185a.896.896 0 0 1-.452.137c-.123 0-1.397-.26-1.617-.233-1.354.014-1.78 1.276-1.835
                                      1.742-.055.453 0 .892.191 1.303a.8.8 0 0 1-.068.851C16.224 21.877 14.922 22 14.73 22a.548.548 0 0
                                      1-.356-.151c-.11-.096-.685-1.138-1.069-1.468-1.304-.955-2.247-.329-2.63 0-.398.33-.672.7-.836 1.125a.632.632
                                      0 0 1-.329.37c-1.354.426-2.918-.919-3.014-1.056a.564.564 0 0 1-.123-.356c-.014-.138.383-1.276.342-1.688-.342-1.9-1.836-1.687-2.096-1.673a3.192
                                       3.192 0 0 0-.918.178.873.873 0 0 1-.59-.055c-.887-.462-1.136-2.332-1.109-2.51.055-.315.192-.521.438-.604.425-.164.809-.452
                                        1.151-.85.931-1.262.343-2.25 0-2.634-.342-.356-.726-.645-1.15-.809-.138-.041-.234-.151-.33-.316-.38-1.434.613-2.552.867-2.77.255-.22.6-.055.723
                                         0 .425.164.877.219 1.343.15C6.7 6.636 6.784 5.141 6.81 4.908c.014-.247-.11-1.29-.137-1.4a.488.488 0 0
                                          1 .027-.315C7.317 2.178 9.071 2 9.222 2a.56.56 0 0 1 .439.178c.11.124.63 1.111 1 1.4.4.338 1.583.83
                                           2.59.013.397-.274.959-1.29 1.082-1.413A.55.55 0 0 1 14.717 2c1.56 0 2.329 1.029 2.438 1.22a.458.458
                                            0 0 1 .069.371c-.028.151-.329 1.152-.26 1.605.365 1.537 1.383 1.742 1.89 1.783.493.028 1.644-.356
                                             1.809-.343a.63.63 0 0 1 .424.206c.535.31.85 1.715.905 2.14.027.233-.014.439-.11.562-.11.138-1.165.714-1.48
                                              1.112-.855.982-.342 2.25-.068 2.606.26.37 1.22.905 1.288.96.15.137.26.302.315.494.146 1.413-.89
                                               2.387-1.069 2.47zm-8.905-.535c.644 0 1.246-.123 1.822-.356a4.576 4.576 0 0 0 1.493-1.016 4.694
                                                4.694 0 0 0 1-1.495c.247-.562.357-1.18.357-1.81 0-.659-.11-1.262-.356-1.825a4.79 4.79 0 0 0-1-1.481
                                                 4.542 4.542 0 0 0-1.494-1.002 4.796 4.796 0 0 0-3.631 0 4.627 4.627 0 0 0-1.48 1.002c-.424.425-.767.919-1 1.481a4.479
                                                  4.479 0 0 0-.37 1.825c0 .644.124 1.248.37 1.81a4.62 4.62 0 0 0 1 1.495c.425.426.918.768 1.48 1.016a4.677
                                                   4.677 0 0 0 1.809.356z" fill-rule="evenodd"></path>
                               </svg></span>设置</a>
                                <a th:href="@{/notification/user}" type="button" class="Button Button--plain">查看所有消息</a>
                            </div>
                           </div>
                        </div>
                    </div>
                </span>
            </div>
        </div>
    </div>
</div>

<!--不要包含任何js文件-->
<script type="text/javascript" src="http://localhost:8088/js/loginReg.js"></script>



